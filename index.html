<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>REonika - –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="icon" type="image/x-icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üí¨</text></svg>">
</head>
<body>
    <!-- –≠–∫—Ä–∞–Ω –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ -->
    <div id="auth-screen">
        <div class="container">
            <div class="form-container">
                <div class="form-title">
                    <i class="fas fa-comments bounce" style="font-size: 48px; color: #fff; margin-bottom: 20px;"></i>
                    <h1>REonika</h1>
                    <p style="color: rgba(255, 255, 255, 0.9);">–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä –¥–ª—è –æ–±—â–µ–Ω–∏—è</p>
                </div>
                
                <form id="login-form">
                    <div class="input-group">
                        <label for="login-email" style="color: rgba(255, 255, 255, 0.9);">Email</label>
                        <input type="email" id="login-email" required placeholder="–í–∞—à email" style="background-color: rgba(255, 255, 255, 0.1); color: #2d3748; border-color: rgba(255, 255, 255, 0.2);">
                    </div>
                    
                    <div class="input-group">
                        <label for="login-password" style="color: rgba(255, 255, 255, 0.9);">–ü–∞—Ä–æ–ª—å</label>
                        <input type="password" id="login-password" required placeholder="–í–∞—à –ø–∞—Ä–æ–ª—å" style="background-color: rgba(255, 255, 255, 0.1); color: #2d3748; border-color: rgba(255, 255, 255, 0.2);">
                    </div>
                    
                    <button type="button" id="login-btn" class="btn-primary" style="width: 100%; background-color: white; color: #667eea;">
                        <i class="fas fa-sign-in-alt"></i> –í–æ–π—Ç–∏
                    </button>
                    
                    <div class="form-footer">
                        <p style="color: #4299e1;">–ù–µ—Ç –∞–∫–∫–∞—É–Ω—Ç–∞? <a href="#" id="show-register" style="color: #4299e1; font-weight: 500; text-decoration: underline;">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</a></p>
                    </div>
                </form>
                
                <form id="register-form" class="hidden">
                    <div class="input-group">
                        <label for="register-username" style="color: rgba(255, 255, 255, 0.9);">–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</label>
                        <input type="text" id="register-username" required placeholder="–ü—Ä–∏–¥—É–º–∞–π—Ç–µ –∏–º—è" minlength="3" style="background-color: rgba(255, 255, 255, 0.1); color: #2d3748; border-color: rgba(255, 255, 255, 0.2);">
                    </div>
                    
                    <div class="input-group">
                        <label for="register-email" style="color: rgba(255, 255, 255, 0.9);">Email</label>
                        <input type="email" id="register-email" required placeholder="–í–∞—à email" style="background-color: rgba(255, 255, 255, 0.1); color: #2d3748; border-color: rgba(255, 255, 255, 0.2);">
                    </div>
                    
                    <div class="input-group">
                        <label for="register-password" style="color: rgba(255, 255, 255, 0.9);">–ü–∞—Ä–æ–ª—å</label>
                        <input type="password" id="register-password" required placeholder="–ù–µ –º–µ–Ω–µ–µ 6 —Å–∏–º–≤–æ–ª–æ–≤" minlength="6" style="background-color: rgba(255, 255, 255, 0.1); color: #2d3748; border-color: rgba(255, 255, 255, 0.2);">
                    </div>
                    
                    <button type="button" id="register-btn" class="btn-primary" style="width: 100%; background-color: white; color: #667eea;">
                        <i class="fas fa-user-plus"></i> –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è
                    </button>
                    
                    <div class="form-footer">
                        <p style="color: #4299e1;">–£–∂–µ –µ—Å—Ç—å –∞–∫–∫–∞—É–Ω—Ç? <a href="#" id="show-login" style="color: #4299e1; font-weight: 500; text-decoration: underline;">–í–æ–π—Ç–∏</a></p>
                    </div>
                </form>
            </div>
        </div>
    </div>
    
    <!-- –û—Å–Ω–æ–≤–Ω–æ–π —ç–∫—Ä–∞–Ω –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è -->
    <div id="main-screen" class="hidden">
        <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è -->
        <nav class="navbar">
            <div class="container nav-content">
                <a href="#" class="nav-logo">
                    <i class="fas fa-comments"></i>
                    <span>REonika</span>
                </a>
                
                <div class="nav-links">
                    <div class="user-info">
                        <div class="avatar" id="nav-avatar"></div>
                        <span id="nav-username">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å</span>
                    </div>
                    <button id="logout-btn" class="btn-primary">
                        <i class="fas fa-sign-out-alt"></i> –í—ã–π—Ç–∏
                    </button>
                </div>
            </div>
        </nav>

        <div class="container">
            <div class="app-container">
                <!-- –ë–æ–∫–æ–≤–∞—è –ø–∞–Ω–µ–ª—å -->
                <div class="sidebar">
                    <div class="user-profile">
                        <div class="avatar medium" id="current-user-avatar"></div>
                        <div class="user-details">
                            <h3 id="current-user-name">–ó–∞–≥—Ä—É–∑–∫–∞...</h3>
                            <p id="current-user-email">...</p>
                            <p id="current-user-updated" class="user-status"></p>
                        </div>
                    </div>
                    
                    <div class="search-container">
                        <input type="text" id="user-search" placeholder="–ü–æ–∏—Å–∫ –ø–æ –∏–º–µ–Ω–∏ –∏–ª–∏ email...">
                        <button id="search-user-btn" class="btn-primary tooltip" data-tooltip="–ü–æ–∏—Å–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π">
                            <i class="fas fa-search"></i>
                        </button>
                    </div>
                    
                    <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø–æ–∏—Å–∫–∞ -->
                    <div class="search-results" id="search-results" style="display: none;"></div>
                    
                    <div class="chats-list" id="chats-list">
                        <!-- –ß–∞—Ç—ã –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã –∑–¥–µ—Å—å -->
                    </div>
                </div>
                
                <!-- –û–±–ª–∞—Å—Ç—å —á–∞—Ç–∞ -->
                <div class="chat-area">
                    <div class="chat-header" id="chat-header" style="display: none;">
                        <div class="chat-partner-info">
                            <div class="avatar" id="chat-partner-avatar"></div>
                            <div>
                                <h2 id="chat-partner-name">–°–æ–±–µ—Å–µ–¥–Ω–∏–∫</h2>
                                <span class="status" id="chat-partner-status">
                                    <i class="fas fa-circle"></i> <span>–Ω–µ –≤ —Å–µ—Ç–∏</span>
                                </span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="chat-messages" id="messages-container">
                        <div class="no-chat-selected">
                            <i class="fas fa-comments"></i>
                            <p>–í—ã–±–µ—Ä–∏—Ç–µ —á–∞—Ç –¥–ª—è –Ω–∞—á–∞–ª–∞ –æ–±—â–µ–Ω–∏—è</p>
                            <p style="font-size: 14px; margin-top: 10px; color: #718096;">
                                –ò–ª–∏ –Ω–∞–π–¥–∏—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –ø–æ–∏—Å–∫–µ
                            </p>
                        </div>
                    </div>
                    
                    <div class="chat-input-container" id="chat-input-container" style="display: none;">
                        <input type="text" id="message-input" placeholder="–í–≤–µ–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ..." disabled>
                        <label for="image-upload" class="btn-icon tooltip" data-tooltip="–û—Ç–ø—Ä–∞–≤–∏—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ">
                            <i class="fas fa-image"></i>
                            <input type="file" id="image-upload" accept="image/*" style="display: none;">
                        </label>
                        <label for="avatar-upload" class="btn-icon tooltip" data-tooltip="–°–º–µ–Ω–∏—Ç—å –∞–≤–∞—Ç–∞—Ä">
                            <i class="fas fa-user-circle"></i>
                            <input type="file" id="avatar-upload" accept="image/*" style="display: none;">
                        </label>
                        <button id="send-btn" class="btn-primary" disabled>
                            <i class="fas fa-paper-plane"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- –ó–∞–≥—Ä—É–∑–æ—á–Ω—ã–π —ç–∫—Ä–∞–Ω -->
    <div id="loading-overlay" class="loading-overlay hidden">
        <div class="loading"></div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script type="module" src="app.js"></script>
</body>
</html>